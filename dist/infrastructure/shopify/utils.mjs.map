{"version":3,"sources":["../../../src/infrastructure/shopify/utils.ts"],"sourcesContent":["export const ensureStartsWith = (stringToCheck: string, startsWith: string) =>\n  stringToCheck.startsWith(startsWith) ? stringToCheck : `${startsWith}${stringToCheck}`;\n\nexport const validateEnvironmentVariables = () => {\n  const requiredEnvironmentVariables = ['SHOPIFY_STORE_DOMAIN', 'SHOPIFY_STOREFRONT_ACCESS_TOKEN'];\n  const missingEnvironmentVariables = [] as string[];\n\n  requiredEnvironmentVariables.forEach((envVar) => {\n    if (!process.env[envVar]) {\n      missingEnvironmentVariables.push(envVar);\n    }\n  });\n\n  if (missingEnvironmentVariables.length) {\n    throw new Error(\n      `The following environment variables are missing. Your site will not work without them. Read more: https://vercel.com/docs/integrations/shopify#configure-environment-variables\\n\\n${missingEnvironmentVariables.join(\n        '\\n',\n      )}\\n`,\n    );\n  }\n\n  if (process.env.SHOPIFY_STORE_DOMAIN?.includes('[') || process.env.SHOPIFY_STORE_DOMAIN?.includes(']')) {\n    throw new Error(\n      'Your `SHOPIFY_STORE_DOMAIN` environment variable includes brackets (ie. `[` and / or `]`). Your site will not work with them there. Please remove them.',\n    );\n  }\n};\n"],"mappings":";AAAO,IAAM,mBAAmB,CAAC,eAAuB,eACtD,cAAc,WAAW,UAAU,IAAI,gBAAgB,GAAG,UAAU,GAAG,aAAa;AAE/E,IAAM,+BAA+B,MAAM;AAChD,QAAM,+BAA+B,CAAC,wBAAwB,iCAAiC;AAC/F,QAAM,8BAA8B,CAAC;AAErC,+BAA6B,QAAQ,CAAC,WAAW;AAC/C,QAAI,CAAC,QAAQ,IAAI,MAAM,GAAG;AACxB,kCAA4B,KAAK,MAAM;AAAA,IACzC;AAAA,EACF,CAAC;AAED,MAAI,4BAA4B,QAAQ;AACtC,UAAM,IAAI;AAAA,MACR;AAAA;AAAA,EAAqL,4BAA4B;AAAA,QAC/M;AAAA,MACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AAEA,MAAI,QAAQ,IAAI,sBAAsB,SAAS,GAAG,KAAK,QAAQ,IAAI,sBAAsB,SAAS,GAAG,GAAG;AACtG,UAAM,IAAI;AAAA,MACR;AAAA,IACF;AAAA,EACF;AACF;","names":[]}